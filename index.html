<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Elite Club - Domain Reminder</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Tailwind for fast styling -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
</head>
<body class="bg-gray-100 p-4">
  <h1 class="text-2xl font-bold mb-4">Elite Business Club â€” Domain Reminders</h1>

  <!-- Add Domain Form -->
  <form id="addForm" class="space-y-2 mb-6">
    <input id="clientName" placeholder="Client Name" class="input" />
    <input id="domainName" placeholder="Domain Name" class="input" />
    <input id="expiryDate" type="date" class="input" />
    <input id="email" type="email" placeholder="Client Email" class="input" />
    <input id="whatsapp" placeholder="WhatsApp Number (optional)" class="input" />
    <button type="submit" class="btn">Add Domain</button>
  </form>

  <!-- Quick Actions -->
  <div class="space-x-2 mb-4">
    <button id="scanNow" class="btn">Scan Now</button>
    <button id="exportCsv" class="btn">Export Reminders CSV</button>
    <button id="clearAll" class="btn bg-red-500">Clear All</button>
  </div>

  <!-- Domain Table -->
  <table class="table-auto w-full bg-white shadow rounded">
    <thead>
      <tr class="bg-gray-200">
        <th class="p-2">Client</th>
        <th class="p-2">Domain</th>
        <th class="p-2">Expiry</th>
        <th class="p-2">Days Left</th>
        <th class="p-2">Status</th>
        <th class="p-2">Actions</th>
      </tr>
    </thead>
    <tbody id="domainTableBody"></tbody>
  </table>

  <script src="app.js"></script>
</body>


<!-- Client Search -->
<div id="clientSearch">
  <input type="text" id="searchClientInput" placeholder="Search client...">
  <button id="searchClientBtn">Search</button>
  <button id="showAllClientsBtn">Show All Clients</button>
</div>




<!-- === CLIENT SEARCH & LIST === -->
<div id="clientSearchContainer" style="border:1px solid #ccc; padding:10px; margin:10px 0; max-width:400px;">
  <h3>Clients</h3>
  <input type="text" id="clientSearchInput" placeholder="Type client name..." style="padding:5px; width:60%;">
  <button id="clientSearchBtn" style="padding:5px;">Search</button>
  <button id="showAllClientsBtn" style="padding:5px;">Show All</button>

  <table id="clientTable" border="1" cellpadding="5" cellspacing="0" style="margin-top:10px; width:100%; border-collapse:collapse;">
    <thead>
      <tr><th>Client Name</th><th>Domain</th><th>Expiry</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<script>
  // Render given client list in table
  function renderClients(list){
    const tbody = document.querySelector("#clientTable tbody");
    tbody.innerHTML = "";
    list.forEach(c=>{
      const tr = document.createElement("tr");
      tr.innerHTML = `<td>${c.clientName || c.name}</td><td>${c.domainName || c.domain}</td><td>${c.expiryDate || c.expiry}</td>`;
      tbody.appendChild(tr);
    });
  }

  // Load all clients from localStorage
  function getAllClients(){
    const domains = JSON.parse(localStorage.getItem("domains")) || [];
    const eliteList = JSON.parse(localStorage.getItem("elite_domains_v1")) || [];
    return domains.concat(eliteList);
  }

  // Initial render
  renderClients(getAllClients());

  // Search button
  document.getElementById("clientSearchBtn").addEventListener("click", ()=>{
    const term = document.getElementById("clientSearchInput").value.trim().toLowerCase();
    if(!term) return alert("Type a name to search");
    const filtered = getAllClients().filter(c=>(c.clientName || c.name || "").toLowerCase().includes(term));
    renderClients(filtered);
  });

  // Show all button
  document.getElementById("showAllClientsBtn").addEventListener("click", ()=>{
    document.getElementById("clientSearchInput").value = "";
    renderClients(getAllClients());
  });
</script>






  
  
</html>
